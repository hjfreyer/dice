<polymer-element name="user-edit-panel" attributes="user" noscript>
  <template>
    <label>ID</label><input value="{{user.id}}" type="number"><br>
    <label>Name</label><input value="{{user.name}}"><br>
    <label>Group</label><input value="{{user.group}}"><br>
    <label>Sex</label>
    <select value="{{user.sex}}">
      <option value="male">Male</option>
      <option value="female">Female</option>
    </select><br>
  </template>
  <!-- <script>Polymer('user-edit-panel', {})</script> -->
</polymer-element>

<polymer-element name="user-new">
  <template>
    <h1>Create new user</h1>
    <json-rpc auto="true"
              method="Participants.List"
              param='{"id": 1}'></json-rpc>
    <core-ajax
       url="/rpc"
       method="POST"
       contentType="application/json"
       on-core-response="{{handleResponse}}"></core-ajax>

    <user-edit-panel user="{{user}}"></user-edit-panel>
    <button on-click="{{submit}}">Go</button>
  </template>
  <script>
    Polymer({
      created: function() {
        this.user = {id: 0, name: '', group: '', sex: ''};
    },
      submit: function() {
        var ajax = this.shadowRoot.querySelector('core-ajax');
    var req = {method: "UserService.Put",
    params: [{user: this.user}],
    id: 0};

    ajax.body = JSON.stringify(req);
        ajax.go();
      }
    });
  </script>
</polymer-element>
