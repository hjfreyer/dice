<!doctype html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">

    <script>
      var host = "hjfreyer.github.io";
      if ((host == window.location.host) && (window.location.protocol != "https:"))
      window.location.protocol = "https";
    </script>

    <script src="bower_components/platform/platform.js"></script>
    <link rel="import" href="bower_components/polymer/polymer.html">
    <link rel="import" href="globals.html">
    <link rel="import" href="header.html">
    <title>Dice Annotator</title>

    <polymer-element name="x-app">
      <template>
        <link rel="stylesheet"
              href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
        <x-header clientId="{{clientId}}" scopes="{{scopes}}"
                  on-google-signin-success="{{signIn}}">
        </x-header>
        <template if="{{authorized}}">
          <div class="container">
            <div class="jumbotron">
              <h1>Good to go!</h1>
              <p>
                The app should be installed in Google Drive. Find a photo of a
                die, right click it, and say "Open With > Dice Labeler"
              </p>
            </div>
          </div>
        </template>
        <template if="{{!authorized}}">
          <div class="container">
            <div class="jumbotron">
              <h1>Sign-in Required</h1>
              <p>
                Click the button in the top-right corner to install.
              </p>
            </div>
          </div>
        </template>
      </template>
      <script>
        Polymer({
          authorized: false,
          clientId: globals.CLIENT_ID,
          scopes: globals.SCOPES.join(' '),
          signIn: function() { this.authorized = true; }
        });
      </script>
    </polymer-element>
  </head>
  <body><x-app></x-app></body>
</html>
