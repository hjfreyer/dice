<!doctype html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
    <script src="bower_components/platform/platform.js"></script>
    <link rel="import" href="bower_components/polymer/polymer.html">

    <script src="bower_components/purl/purl.js"></script>
    <script src="dicelib.js"></script>
    <script type="text/javascript"
            src="https://apis.google.com/js/api.js"></script>

    <title>Dice Annotator</title>

    <polymer-element name="x-app" attributes="authInfo driveState">
      <template>
        <h1>Annotator</h1>
        <canvas id="canvas" width="{{width}}" height="{{height}}"></canvas>
        <input id="title">
        <button on-click="{{resetModel}}">Reset</button>
      </template>
      <script src="x-app.js"></script>
    </polymer-element>

    <polymer-element name="x-init">
      <template>
        <template if="{{state == 'LOADING'}}">
          Just a sec...
        </template>
        <template if="{{state == 'BAD_URL'}}">
          Looks like you came here directly. You should have come here via
          Google Drive. Work on that.
        </template>
        <template if="{{state == 'LOGGED_OUT'}}">
          Please <a href="javascript:void()" on-click="{{login}}">Log in</a>
        </template>
        <template if="{{state == 'LOGGED_IN'}}">
          <x-app authInfo="{{authInfo}}" driveState="{{driveState}}"></x-app>
        </template>
      </template>
      <script src="x-app.js"></script>
    </polymer-element>
  </head>
  <body><x-init></x-init></body>
</html>
